<div class="turnover-container"> <div class="month-container jan"> <div class="jan prev"></div> <div class="jan cur"></div> <div class="jan label">Jan</div> </div> <div class="month-container feb"> <div class="feb prev"></div> <div class="feb cur"></div> <div class="feb label">Feb</div> </div> <div class="month-container mar"> <div class="mar prev"></div> <div class="mar cur"></div> <div class="mar label">Mar</div> </div> <div class="month-container apr"> <div class="apr prev"></div> <div class="apr cur"></div> <div class="apr label">Apr</div> </div> <div class="month-container may"> <div class="may prev"></div> <div class="may cur"></div> <div class="may label">May</div> </div> <div class="month-container jun"> <div class="jun prev"></div> <div class="jun cur"></div> <div class="jun label">Jun</div> </div> <div class="month-container jul"> <div class="jul prev"></div> <div class="jul cur"></div> <div class="jul label">Jul</div> </div> <div class="month-container aug"> <div class="aug prev"></div> <div class="aug cur"></div> <div class="aug label">Aug</div> </div> <div class="month-container sep"> <div class="sep prev"></div> <div class="sep cur"></div> <div class="sep label">Sep</div> </div> <div class="month-container oct"> <div class="oct prev"></div> <div class="oct cur"></div> <div class="oct label">Oct</div> </div> <div class="month-container nov"> <div class="nov prev"></div> <div class="nov cur"></div> <div class="nov label">Nov</div> </div> <div class="month-container dec"> <div class="dec prev"></div> <div class="dec cur"></div> <div class="dec label">Dec</div> </div> <div></div> </div>

.turnover-container{
    height:280px;
    width:400px;
    display: flex;
    flex-wrap: wrap;
    }
    .month-container{
    flex-basis: calc(100% / 12);
    width: 100%;
    display: flex;
    flex-wrap: wrap;
    position: relative;
    }
    .prev, .cur{
    flex-basis: 50%;
    height:250px;
    position: relative;
    }
    
    .label{
    flex-basis: 100%;
    text-align: center;
    font-size: 12px;
    font-weight: 400;
    color:#3C2E63;
    }
    
    .bar{
    border-radius: 20px;
    width: 13px;
    position: absolute;
    bottom:0;
    z-index: 10;
    transition: height 1s ease-in-out;
    }
    
    .bar.prev{
    right:0;
    background-color: #BACDFD;
    }
    
    .bar.cur{
    left:0;
    background-color: #486EEE;
    }
    
    .percentage{
    position: absolute;
    top: -10px;
    right: -5px;
    width: 37px;
    height: 37px;
    border-radius: 50%;
    background-color: #486EEE;
    text-align: center;
    line-height: 39px;
    color: #fff;
    font-style: normal;
    font-weight: 700;
    font-size: 12px;
    text-align: center;
    }
    
    .in-progress{
    background-color: #8BFFA5;
    color:#486EEE;
    display: flex;
    align-items: center;
    
    }
    
    .percentage::after {
    content: "";
    position: absolute;
    bottom: -4px;
    left: 50%;
    transform: translateX(-50%);
    width: 0;
    height: 0;
    border-left: 5px solid transparent;
    border-right: 5px solid transparent;
    border-top: 5px solid #486EEE;
    }
    .in-progress::after{
    border-top: 5px solid #8BFFA5;
    }
    
    .percentage::before {
    content: "";
    position: absolute;
    bottom: -220px;
    left: 50%;
    transform: translateX(-50%);
    width: 1px;
    height: 220px;
    background-color: #486EEE;
    z-index: 9;
    }
    
    .in-progress::before{
    background-color: #8BFFA5;
    }
    
    @keyframes spin {
    from { transform: rotate(0deg); }
    to { transform: rotate(360deg); }
    }
    
    .inprogress-image{
    margin: auto;
    height: 24px;
    width: 24px;
    animation: spin 6s linear infinite;
    }
    
    .inprogress-text{
    font-weight: 500;
    position: absolute;
    white-space: nowrap;
    left: 50%;
    transform: translateX(-50%);
    top:-35px;
    }


    <script> const months = ['jan', 'feb', 'mar', 'apr', 'may', 'jun', 'jul', 'aug', 'sep', 'oct', 'nov', 'dec']; const values = {}; const maxValue = 400; for (const month of months) { const monthContainer = document.getElementsByClassName(`month-container ${month}`)[0]; const prevElement = document.getElementsByClassName(`${month}-prev`)[0]; const prevBarContainer = document.getElementsByClassName(`${month} prev`)[0]; const curElement = document.getElementsByClassName(`${month}-cur`)[0]; const curBarContainer = document.getElementsByClassName(`${month} cur`)[0]; const prevValue = prevElement.querySelector('.jet-listing-dynamic-field__content').textContent; const curValue = curElement.querySelector('.jet-listing-dynamic-field__content').textContent; values[`${month}PrevValue`] = prevValue; values[`${month}CurValue`] = curValue; if(prevValue && curValue){ createBarElement(prevBarContainer, prevValue, 'prev'); createBarElement(curBarContainer, curValue, 'cur'); createPercentageElement(monthContainer, prevValue, curValue); } else if(prevValue && !curValue){ createBarElement(prevBarContainer, prevValue, 'prev'); createBarInProgress(curBarContainer, prevValue, 'cur'); createPercentageInProgress(monthContainer); } } function createBarElement(parentElement, value, type) { const barElement = document.createElement('div'); barElement.classList.add('bar', type); const height = 180/maxValue*value; barElement.style.height = `${height}px`; // Set the height of the bar parentElement.appendChild(barElement); } function createBarInProgress(parentElement, value,type){ const barElement = document.createElement('div'); barElement.classList.add('bar', type); const height = 180/maxValue*value/2; barElement.style.height = `${height}px`; // Set the height of the bar parentElement.appendChild(barElement); } function createPercentageElement(parentElement, prevValue, curValue) { const percentageElement = document.createElement('div'); percentageElement.classList.add('percentage'); const percentageChange = ((curValue - prevValue) / prevValue) * 100; const roundedPercentage = Math.ceil(percentageChange); const sign = roundedPercentage >= 0 ? '+' : '-'; percentageElement.textContent = `${sign}${Math.abs(roundedPercentage)}%`; parentElement.appendChild(percentageElement); } function createPercentageInProgress(parentElement) { const percentageElement = document.createElement('div'); percentageElement.classList.add('percentage', 'in-progress'); parentElement.appendChild(percentageElement); const imageElement = document.createElement('img'); imageElement.src = 'http://ecommspace-130524.local/wp-content/uploads/2023/05/loader.svg'; imageElement.classList.add('inprogress-image'); percentageElement.appendChild(imageElement); const textElement = document.createElement('div'); textElement.textContent = 'In Progress'; textElement.classList.add('inprogress-text'); percentageElement.appendChild(textElement); } </script>